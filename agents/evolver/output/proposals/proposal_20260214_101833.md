I will begin by reading the `history.md` and `constraints.json` files within the `evolver` agent's directory to ensure my analysis is grounded in previous work and adheres to established system boundaries.
I will examine the source code of the `reader_agent` and the `Master Engine` (`master.py`) to understand how task isolation and context management are currently handled, which will inform my proposal for an OS-inspired "Ephemeral Agent" architecture.
# Evolution Proposal 2026-02-14 (v4)

## Executive Summary (Telegram)
ðŸš€ **GenieBot Evolution Phase 4: The "GenieOS" Kernel Transition.** 
Inspired by current architectural trends (AI-Station-Navigator), we are transitioning from a simple "Master-Agent" model to an "OS-Inspired" framework. 
- **Processes = Sub-Agents**: Formalizing task isolation.
- **Apps = Skills**: Introducing a GitHub-based Skill Store for automated capability expansion.
- **cgrep Integration**: High-speed, local code-aware context retrieval for token efficiency.
- **Ephemeral Sessions**: Task-specific agent instances to prevent context pollution.

---

## 1. Architectural Trend: "GenieOS" Formalization
The current data indicates a shift towards treating the LLM as a CPU and Agents as transient processes. We will adopt the **Computer Architecture Analogy** to improve stability and scalability.

| Analog | Component | Future State |
| :--- | :--- | :--- |
| **CPU** | Claude / Gemini | The core logic engine. |
| **Kernel** | `master.py` | Handles scheduling, intent, and cross-process IPC. |
| **Processes** | `agents/` | Isolated sub-agents. **New**: Ephemeral lifecycle (Spawn -> Task -> Kill). |
| **Apps** | **Skills** | GitHub-cloned tools dynamically registered. |
| **Drivers** | **MCP / Hooks** | Standardized interfaces for browser automation/system calls. |

## 2. New Agent Proposal: `skill_manager` (Capability Store)
**Purpose**: Automate the "Search -> Ingest -> Implement" cycle for new features.
- **Functionality**:
    - `install <repo_url>`: Clones to `agents/reference`, performs the `ANALYSIS_REPORT.md` (Security/Logic), and scaffolds a native micro-agent.
    - `registry`: Maintains a list of "Skills" available for the Orchestrator.
    - **Analogy**: The `apt-get` for GenieBot.

## 3. Optimization: `reader_agent` + `cgrep` Logic
To solve **Context Pollution** (identified in HN data), we will integrate code-aware search.
- **Update**: Add a `--search` flag to `reader_agent` that uses `cgrep` logic.
- **Benefit**: Instead of dumping entire files, it extracts only the "Accessibility Tree" of code (classes, methods, signatures), reducing tokens by ~80% for large repositories.

## 4. Optimization: `stealth_browser` Semantic Mode
- **Update**: Implement `extract_semantic` (Accessibility Tree) as the default mode for `goto` tasks.
- **Reasoning**: Raw HTML is noisy. Semantic trees provide the LLM with a "real-user" view of interactive elements, improving accuracy in navigation tasks.

## 5. OpenClaw Capability: WhatsApp Gateway
- **Proposal**: Build a `bridge_whatsapp.py` inspired by `OpenClaw`.
- **Target**: Allow a second entry point to the Master Engine via WhatsApp (using `stealth_browser` to automate a WhatsApp Web profile) to reach users who "won't touch SSH/setup".

---

## Action Plan
1.  **[High Priority]** Implement `extract_semantic` in `stealth_browser`.
2.  **[Medium Priority]** Create the `skill_manager` prototype to automate GitHub tool ingestion.
3.  **[Efficiency]** Update `reader_agent` with regex-based code mapping (`cgrep` style).

*Report generated by Evolver Agent - Saturday, February 14, 2026.*